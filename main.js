(()=>{"use strict";var e={554:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{hi:()=>oe,pf:()=>re,Vw:()=>he,_g:()=>ce});var o=function(){function e(t,n,r,o,i){var u=i.handleDeleteCard,a=i.handleCardLikes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=t.link,this._name=t.name,this._cardId=t._id,this._owner=t.owner,this._ownerId=t.owner._id,this._likes=t.likes,this._likesCount=t.likes.length,this._selfId=n,this._selector=r,this._openImagePopup=o,this._handleDeleteCard=u,this._handleCardLikes=a}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(".elements-template").content.querySelector(".elements__card").cloneNode(!0)}},{key:"deleteHandler",value:function(){this._element.remove()}},{key:"_toggleLike",value:function(){this._element.querySelector(".elements__like").classList.toggle("elements__like_active")}},{key:"_zoomPopup",value:function(){this._openImagePopup(this._name,this._link)}},{key:"_openDeletePopup",value:function(){this._handleDeleteCard(this)}},{key:"_getCardLikes",value:function(){this._handleCardLikes(this)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__like").addEventListener("click",(function(){return e._getCardLikes()})),this._element.querySelector(".elements__image").addEventListener("click",(function(){return e._zoomPopup()})),this._element.querySelector(".elements__delete-button").addEventListener("click",(function(){return e._openDeletePopup()}))}},{key:"getCardId",value:function(){return this._cardId}},{key:"likeClicked",value:function(){return!this._element.querySelector(".elements__like").classList.contains("elements__like_active")}},{key:"changeLike",value:function(e){this._toggleLike(),this._element.querySelector(".elements__likes-count").textContent=e}},{key:"getElement",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".elements__title"),t=this._element.querySelector(".elements__image");return e.innerText=this._name,t.alt=this._name,t.src=this._link,this._ownerId!=this._selfId&&(this._element.querySelector(".elements__delete-button").style.display="none"),this._element.querySelector(".elements__likes-count").textContent=this._likesCount,this._setEventListeners(),this._element}}])&&r(t.prototype,n),e}(),i=function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))},u=function(e,t){var n=document.querySelector(".popup_zoom"),r=document.querySelector(".popup__title_zoom"),o=document.querySelector(".popup__image");r.textContent=e,o.alt=e,o.src=t,ce.open(n)};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n,this.headers=r}var t,n;return t=e,(n=[{key:"getUserData",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"patchUserData",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"patchUserAvatar",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.link})}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"postNewCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"putLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}},{key:"deleteLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then(i).then((function(e){return e})).catch((function(e){alert(e)}))}}])&&a(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(e,t){var n=this;e.forEach((function(e){n._renderer(e,t)}))}},{key:"appendCard",value:function(e){this._container.append(e)}},{key:"prependCard",value:function(e){this._container.prepend(e)}}])&&l(t.prototype,n),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n=t.userName,r=t.userAbout,o=t.userAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=n,this._userAbout=r,this._userAvatar=o,this._popupName=document.querySelector(".popup__input_edit_name"),this._popupAbout=document.querySelector(".popup__input_edit_about")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){this._popupName.value=this._userName.textContent,this._popupAbout.value=this._userAbout.textContent}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userAbout.textContent=e.about,this._userAvatar.src=e.avatar}}])&&p(t.prototype,n),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){var t=document.querySelector(".popup_opened");"Escape"===e.key&&this.close(t)}},{key:"_closePopupByOverlayClick",value:function(e){var t=document.querySelector(".popup_opened");e.target===e.currentTarget&&this.close(t)}},{key:"setEventListeners",value:function(){this._popupSelector.querySelector(".popup__close").addEventListener("click",this.close.bind(this)),document.addEventListener("keyup",this._handleEscClose),this._popupSelector.addEventListener("mousedown",this._closePopupByOverlayClick.bind(this))}}])&&h(t.prototype,n),e}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(){return y(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"open",value:function(){var e=this;v(k(u.prototype),"open",this).call(this),this._popupSelector.addEventListener("click",(function(){return e.openImagePopup}))}}])&&m(t.prototype,n),u}(d);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._handleFormSubmit=r,t._formElement=t._popupSelector.querySelector("form"),t._button=t._popupSelector.querySelector(".popup__save"),t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupSelector.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"renderLoading",value:function(e){this._button.textContent=e?"Сохранение...":"Сохранить"}},{key:"setEventListeners",value:function(){var e=this;C(q(u.prototype),"setEventListeners",this).call(this),this._popupSelector.querySelector(".popup__form").addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){this._formElement.reset(),C(q(u.prototype),"close",this).call(this)}}])&&w(t.prototype,n),u}(d);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function u(e){var t,n=e.popupSelector,r=e.onSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._onSubmit=r,t}return t=u,(n=[{key:"open",value:function(e){this._card=e,I(D(u.prototype),"open",this).call(this)}},{key:"_handleSubmit",value:function(){this._onSubmit(this._card)}},{key:"setEventListeners",value:function(){var e=this;I(D(u.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&A(t.prototype,n),u}(d);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input-error",errorClass:"popup__input-error_active",formEditSelector:".popup__container_edit",formAddSelector:".popup__container_add",formEditAvatarSelector:".popup__container_editAvatar"},V=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t,this._formElement=document.querySelector(t),this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass)}},{key:"hideFormErrors",value:function(){var e=this;Array.from(this._formElement.querySelectorAll(this._inputSelector)).forEach((function(t){e._hideInputError(t)}))}},{key:"_getErrorMesage",value:function(e){return e.validationMessage}},{key:"_checkInputValidity",value:function(e){if(e.validity.valid)this._hideInputError(e);else{var t=this._getErrorMesage(e);this._showInputError(e,t)}}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._inactiveButtonClass),t.setAttribute("disabled",!0)):(t.classList.remove(this._inactiveButtonClass),t.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._inputSelector)),n=this._formElement.querySelector(this._submitButtonSelector);t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))})),this._toggleButtonState(t,n)}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&x(t.prototype,n),e}(),N=document.querySelector(".popup_edit"),F=document.querySelector(".profile__edit-button"),z=(document.querySelector(".popup__close_edit"),document.querySelector(".profile__name")),H=document.querySelector(".profile__about"),M=document.querySelector(".profile__avatar"),J=document.querySelector(".popup_add"),$=document.querySelector(".profile__add-button"),G=(document.querySelector(".popup__close_add"),document.querySelector(".elements-template").content),K=document.querySelector(".elements-template"),Q=document.querySelector(".elements"),W=document.querySelector(".popup_zoom"),X=(document.querySelector(".popup__close_zoom"),document.querySelector(".popup__save_add")),Y=(document.querySelector(".popup__save_edit"),document.querySelector(".popup__input_add-title"),document.querySelector(".popup__input_add-link"),document.querySelector(".profile__avatar")),Z=document.querySelector(".popup_editAvatar"),ee=document.querySelector(".popup_delete"),te=(K.querySelector(".elements__delete-button"),document.querySelector(".popup__save_editAvatar"));function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.querySelector(".popup__save_delete");var re=new s({renderer:function(e,t){!function(e,t,n,r){var i=new o(e,t,n,r,{handleDeleteCard:function(e){he.open(e)},handleCardLikes:function(t){t.likeClicked()?oe.putLike(e._id).then((function(e){t.changeLike(e.likes.length)})):oe.deleteLike(e._id).then((function(e){t.changeLike(e.likes.length)}))}}).getElement(t);re.appendCard(i)}(e,t,G,u)}},Q),oe=new c({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{authorization:"f8a9e527-6ca4-4e1d-b3eb-bf388e887896","Content-Type":"application/json"}}),ie=new P({popupSelector:J,handleFormSubmit:function(e,t){ie.renderLoading(!0),oe.postNewCard(e).then((function(e){!function(e,t,n,r){var i=new o(e,t,n,r,{handleDeleteCard:function(e){he.open(e)},handleCardLikes:function(t){t.likeClicked()?oe.putLike(e._id).then((function(e){t.changeLike(e.likes.length)})):oe.deleteLike(e._id).then((function(e){t.changeLike(e.likes.length)}))}}).getElement(t);re.prependCard(i)}(e,t,G,u)})).finally((function(){ie.renderLoading(!1),ie.close()}))}});ie.setEventListeners();var ue=new P({popupSelector:N,handleFormSubmit:function(e){ue.renderLoading(!0),oe.patchUserData(e).then((function(e){le.setUserInfo(e)})).finally((function(){ue.renderLoading(!1),ue.close()}))}});ue.setEventListeners();var ae=new P({popupSelector:Z,handleFormSubmit:function(e){ae.renderLoading(!0),oe.patchUserAvatar(e).then((function(e){le.setUserInfo(e)})).finally((function(){ae.renderLoading(!1),ae.close()}))}});ae.setEventListeners();var ce=new g(W);ce.setEventListeners();var le=new f({userName:z,userAbout:H,userAvatar:M}),se=new V(B.formEditSelector,B);se.enableValidation();var pe=new V(B.formAddSelector,B);pe.enableValidation();var fe=new V(B.formEditAvatarSelector,B);fe.enableValidation();var he=new T({popupSelector:ee,onSubmit:function(e){var t=e.getCardId();oe.deleteCard(t).then((function(){e.deleteHandler()})).finally((function(){he.close()}))}});he.setEventListeners(),Promise.all([oe.getInitialCards(),oe.getUserData()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];re.renderItems(o,i._id),le.setUserInfo(i)})),F.addEventListener("click",(function(){le.getUserInfo(),ue.open(N),se.enableValidation(),se.hideFormErrors()})),$.addEventListener("click",(function(){X.classList.add("popup__save_disabled"),X.setAttribute("disabled","disabled"),ie.open(J),pe.hideFormErrors()})),Y.addEventListener("click",(function(){te.classList.add("popup__save_disabled"),te.setAttribute("disabled","disabled"),ae.open(Z),fe.enableValidation(),fe.hideFormErrors()}))}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(554)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZERhdGEiLCJzZWxmSWQiLCJzZWxlY3RvciIsIm9wZW5JbWFnZVBvcHVwIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUNhcmRMaWtlcyIsInRoaXMiLCJfbGluayIsImxpbmsiLCJfbmFtZSIsIm5hbWUiLCJfY2FyZElkIiwiX2lkIiwiX293bmVyIiwib3duZXIiLCJfb3duZXJJZCIsIl9saWtlcyIsImxpa2VzIiwiX2xpa2VzQ291bnQiLCJsZW5ndGgiLCJfc2VsZklkIiwiX3NlbGVjdG9yIiwiX29wZW5JbWFnZVBvcHVwIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGxlQ2FyZExpa2VzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9nZXRDYXJkTGlrZXMiLCJfem9vbVBvcHVwIiwiX29wZW5EZWxldGVQb3B1cCIsImNvbnRhaW5zIiwiYWxsTGlrZXMiLCJfdG9nZ2xlTGlrZSIsInRleHRDb250ZW50IiwiX2dldFRlbXBsYXRlIiwiZWxlbWVudHNUaXRsZSIsImVsZW1lbnRzSW1hZ2UiLCJpbm5lclRleHQiLCJhbHQiLCJzcmMiLCJzdHlsZSIsImRpc3BsYXkiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJoYW5kbGVPcmlnaW5hbFJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsInBvcHVwWm9vbSIsInBvcHVwWm9vbVRpdGxlIiwicG9wdXBab29tSW1hZ2UiLCJ6b29tSW1hZ2VQb3B1cCIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzdWx0IiwiZXJyIiwiYWxlcnQiLCJ1c2VyRGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJ1c2VyQXZhdGFyIiwiYXZhdGFyIiwiZGF0YSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImlkIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJfdXNlck5hbWUiLCJfdXNlckFib3V0IiwiX3VzZXJBdmF0YXIiLCJfcG9wdXBOYW1lIiwiX3BvcHVwQWJvdXQiLCJ2YWx1ZSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJwb3B1cE9wZW5lZCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9jbG9zZVBvcHVwQnlPdmVybGF5Q2xpY2siLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwiaXNMb2FkaW5nIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwRGVsZXRlQ29uZmlybSIsIm9uU3VibWl0IiwiX29uU3VibWl0IiwiY2FyZCIsIl9jYXJkIiwiX2hhbmRsZVN1Ym1pdCIsImNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZm9ybUVkaXRTZWxlY3RvciIsImZvcm1BZGRTZWxlY3RvciIsImZvcm1FZGl0QXZhdGFyU2VsZWN0b3IiLCJGb3JtVmFsaWRhdG9yIiwiX2Zvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfZ2V0RXJyb3JNZXNhZ2UiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwicG9wdXBFZGl0IiwicG9wdXBFZGl0T3BlbkJ1dHRvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUFib3V0IiwicHJvZmlsZUF2YXRhciIsInBvcHVwQWRkIiwicG9wdXBBZGRPcGVuQnV0dG9uIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZVNlY3Rpb24iLCJjYXJkTGlzdFNlY3Rpb24iLCJwb3B1cEFkZEJ1dHRvbiIsInBvcHVwQXZhdGFyRWRpdE9wZW5CdXR0b24iLCJwb3B1cEVkaXRBdmF0YXIiLCJwb3B1cERlbGV0ZSIsInBvcHVwRWRpdEF2YXRhckJ1dHRvbiIsImNhcmRzTGlzdCIsImNhcmRFbGVtZW50IiwiZGVsZXRlQ2FyZFBvcHVwIiwibGlrZUNsaWNrZWQiLCJhcGkiLCJjaGFuZ2VMaWtlIiwiZ2V0RWxlbWVudCIsImNyZWF0ZUNhcmRzIiwiYXV0aG9yaXphdGlvbiIsImFkZFBvcHVwRm9ybSIsInJlbmRlckxvYWRpbmciLCJwb3N0TmV3Q2FyZCIsImFkZENhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImVkaXRQb3B1cEZvcm0iLCJwYXRjaFVzZXJEYXRhIiwidXNlciIsInNldFVzZXJJbmZvIiwiZWRpdEF2YXRhclBvcHVwIiwicGF0Y2hVc2VyQXZhdGFyIiwiZm9ybUVkaXRWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZm9ybUFkZFZhbGlkYXRvciIsInBvcHVwRWRpdEF2YXRhclZhbGlkYXRvciIsImdldENhcmRJZCIsImRlbGV0ZUNhcmQiLCJkZWxldGVIYW5kbGVyIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckRhdGEiLCJyZW5kZXJJdGVtcyIsImdldFVzZXJJbmZvIiwib3BlbiIsImhpZGVGb3JtRXJyb3JzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sIm1hcHBpbmdzIjoibVFBQXFCQSxFLFdBQ25CLFdBQ0VDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBSkYsR0FNRSxJQURFQyxFQUNGLEVBREVBLGlCQUFrQkMsRUFDcEIsRUFEb0JBLGlCLDRGQUNwQixTQUNBQyxLQUFLQyxNQUFRUCxFQUFTUSxLQUN0QkYsS0FBS0csTUFBUVQsRUFBU1UsS0FDdEJKLEtBQUtLLFFBQVVYLEVBQVNZLElBQ3hCTixLQUFLTyxPQUFTYixFQUFTYyxNQUN2QlIsS0FBS1MsU0FBV2YsRUFBU2MsTUFBTUYsSUFDL0JOLEtBQUtVLE9BQVNoQixFQUFTaUIsTUFDdkJYLEtBQUtZLFlBQWNsQixFQUFTaUIsTUFBTUUsT0FDbENiLEtBQUtjLFFBQVVuQixFQUNmSyxLQUFLZSxVQUFZbkIsRUFDakJJLEtBQUtnQixnQkFBa0JuQixFQUN2QkcsS0FBS2lCLGtCQUFvQm5CLEVBQ3pCRSxLQUFLa0IsaUJBQW1CbkIsRSw0REFReEIsT0FKb0JvQixTQUNqQkMsY0FBYyxzQkFDZEMsUUFBUUQsY0FBYyxtQkFDdEJFLFdBQVUsSyxzQ0FLYnRCLEtBQUt1QixTQUFTQyxXLG9DQUlkeEIsS0FBS3VCLFNBQ0ZILGNBQWMsbUJBQ2RLLFVBQVVDLE9BQU8sMkIsbUNBSXBCMUIsS0FBS2dCLGdCQUFnQmhCLEtBQUtHLE1BQU9ILEtB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Qlcsb0JBRW5CckMsRUFBMEJsSixpQkFBaUIsU0FBUyxXQUNsRHFKLGlCQUFvQyx3QkFDcENBLGdCQUFtQyxXQUFZLFlBQy9DbUIsR0FBZ0JjLEtBQUtuQyxHQUNyQjBCLEdBQXlCRixtQkFDekJFLEdBQXlCVSxzQkN2S3ZCQyxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVQyxRQUczQyxJQUFJQyxFQUFTSixFQUF5QkUsR0FBWSxDQUdqREMsUUFBUyxJQU9WLE9BSEFFLEVBQW9CSCxHQUFVRSxFQUFRQSxFQUFPRCxRQUFTRixHQUcvQ0csRUFBT0QsUUNuQmZGLEVBQW9CSyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSXJILEtBQU9xSCxFQUNYTixFQUFvQk8sRUFBRUQsRUFBWXJILEtBQVMrRyxFQUFvQk8sRUFBRUwsRUFBU2pILElBQzVFdUgsT0FBT0MsZUFBZVAsRUFBU2pILEVBQUssQ0FBRXlILFlBQVksRUFBTUMsSUFBS0wsRUFBV3JILE1DSjNFK0csRUFBb0JPLEVBQUksQ0FBQ0ssRUFBS0MsSUFBU0wsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NFakZiLEVBQW9CLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBzZWxmSWQsXHJcbiAgICBzZWxlY3RvcixcclxuICAgIG9wZW5JbWFnZVBvcHVwLFxyXG4gICAgeyBoYW5kbGVEZWxldGVDYXJkLCBoYW5kbGVDYXJkTGlrZXMgfVxyXG4gICkge1xyXG4gICAgdGhpcy5fbGluayA9IGNhcmREYXRhLmxpbms7XHJcbiAgICB0aGlzLl9uYW1lID0gY2FyZERhdGEubmFtZTtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmREYXRhLl9pZDtcclxuICAgIHRoaXMuX293bmVyID0gY2FyZERhdGEub3duZXI7XHJcbiAgICB0aGlzLl9vd25lcklkID0gY2FyZERhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkRGF0YS5saWtlcztcclxuICAgIHRoaXMuX2xpa2VzQ291bnQgPSBjYXJkRGF0YS5saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9zZWxmSWQgPSBzZWxmSWQ7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgdGhpcy5fb3BlbkltYWdlUG9wdXAgPSBvcGVuSW1hZ2VQb3B1cDtcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2VzID0gaGFuZGxlQ2FyZExpa2VzO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50cy10ZW1wbGF0ZVwiKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBkZWxldGVIYW5kbGVyKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZVwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF96b29tUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9vcGVuSW1hZ2VQb3B1cCh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICB9XHJcblxyXG4gIF9vcGVuRGVsZXRlUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2dldENhcmRMaWtlcygpIHtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlcyh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9nZXRDYXJkTGlrZXMoKSk7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX3pvb21Qb3B1cCgpKTtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9vcGVuRGVsZXRlUG9wdXAoKSk7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkSWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZElkO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNsaWNrZWQoKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuY29udGFpbnMoXCJlbGVtZW50c19fbGlrZV9hY3RpdmVcIilcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUxpa2UoYWxsTGlrZXMpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuZWxlbWVudHNfX2xpa2VzLWNvdW50XCJcclxuICAgICkudGV4dENvbnRlbnQgPSBhbGxMaWtlcztcclxuICB9XHJcblxyXG4gIGdldEVsZW1lbnQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIGNvbnN0IGVsZW1lbnRzVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RpdGxlXCIpO1xyXG4gICAgY29uc3QgZWxlbWVudHNJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIik7XHJcbiAgICBlbGVtZW50c1RpdGxlLmlubmVyVGV4dCA9IHRoaXMuX25hbWU7XHJcbiAgICBlbGVtZW50c0ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICBlbGVtZW50c0ltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPSB0aGlzLl9zZWxmSWQpIHtcclxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmVsZW1lbnRzX19kZWxldGUtYnV0dG9uXCJcclxuICAgICAgKTtcclxuICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuZWxlbWVudHNfX2xpa2VzLWNvdW50XCJcclxuICAgICkudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlc0NvdW50O1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgem9vbUltYWdlUG9wdXAsXHJcbiAgZGVsZXRlQ2FyZFBvcHVwLFxyXG4gIGNhcmRzTGlzdCxcclxuICBhcGksXHJcbn0gZnJvbSBcIi4uL3BhZ2VzL2luZGV4LmpzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlT3JpZ2luYWxSZXNwb25zZSA9IChyZXMpID0+IHtcclxuICBpZiAoIXJlcy5vaykge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuICByZXR1cm4gcmVzLmpzb24oKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvcGVuSW1hZ2VQb3B1cCA9IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgY29uc3QgcG9wdXBab29tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF96b29tXCIpO1xyXG4gIGNvbnN0IHBvcHVwWm9vbVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVfem9vbVwiKTtcclxuICBjb25zdCBwb3B1cFpvb21JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gIHBvcHVwWm9vbVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICBwb3B1cFpvb21JbWFnZS5hbHQgPSBuYW1lO1xyXG4gIHBvcHVwWm9vbUltYWdlLnNyYyA9IGxpbms7XHJcbiAgem9vbUltYWdlUG9wdXAub3Blbihwb3B1cFpvb20pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhcmRzID0gKGNhcmREYXRhLCBzZWxmSWQsIHNlbGVjdG9yLCBvcGVuSW1hZ2VQb3B1cCkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgc2VsZklkLCBzZWxlY3Rvciwgb3BlbkltYWdlUG9wdXAsIHtcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQ6IChjYXJkKSA9PiB7XHJcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKGNhcmQpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUNhcmRMaWtlczogKGNhcmQpID0+IHtcclxuICAgICAgaWYgKGNhcmQubGlrZUNsaWNrZWQoKSkge1xyXG4gICAgICAgIGFwaS5wdXRMaWtlKGNhcmREYXRhLl9pZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmNoYW5nZUxpa2UocmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUxpa2UoY2FyZERhdGEuX2lkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNhcmQuY2hhbmdlTGlrZShyZXMubGlrZXMubGVuZ3RoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9KTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0RWxlbWVudChzZWxmSWQpO1xyXG4gIGNhcmRzTGlzdC5hcHBlbmRDYXJkKGNhcmRFbGVtZW50KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkID0gKGNhcmREYXRhLCBzZWxmSWQsIHNlbGVjdG9yLCBvcGVuSW1hZ2VQb3B1cCkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgc2VsZklkLCBzZWxlY3Rvciwgb3BlbkltYWdlUG9wdXAsIHtcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQ6IChjYXJkKSA9PiB7XHJcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKGNhcmQpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUNhcmRMaWtlczogKGNhcmQpID0+IHtcclxuICAgICAgaWYgKGNhcmQubGlrZUNsaWNrZWQoKSkge1xyXG4gICAgICAgIGFwaS5wdXRMaWtlKGNhcmREYXRhLl9pZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmNoYW5nZUxpa2UocmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUxpa2UoY2FyZERhdGEuX2lkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNhcmQuY2hhbmdlTGlrZShyZXMubGlrZXMubGVuZ3RoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9KTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0RWxlbWVudChzZWxmSWQpO1xyXG4gIGNhcmRzTGlzdC5wcmVwZW5kQ2FyZChjYXJkRWxlbWVudCk7XHJcbn07XHJcbiIsImltcG9ydCB7IGhhbmRsZU9yaWdpbmFsUmVzcG9uc2UgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckRhdGEoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oaGFuZGxlT3JpZ2luYWxSZXNwb25zZSlcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgYWxlcnQoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwYXRjaFVzZXJEYXRhKHVzZXJEYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IHVzZXJEYXRhLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKGhhbmRsZU9yaWdpbmFsUmVzcG9uc2UpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGFsZXJ0KGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcGF0Y2hVc2VyQXZhdGFyKHVzZXJBdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogdXNlckF2YXRhci5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKGhhbmRsZU9yaWdpbmFsUmVzcG9uc2UpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGFsZXJ0KGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKGhhbmRsZU9yaWdpbmFsUmVzcG9uc2UpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgYWxlcnQoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwb3N0TmV3Q2FyZChjYXJkRGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGNhcmREYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogY2FyZERhdGEubGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihoYW5kbGVPcmlnaW5hbFJlc3BvbnNlKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGFsZXJ0KGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkRGF0YX1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oaGFuZGxlT3JpZ2luYWxSZXNwb25zZSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBhbGVydChlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHB1dExpa2UoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke19pZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oaGFuZGxlT3JpZ2luYWxSZXNwb25zZSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBhbGVydChlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUxpa2UoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke19pZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oaGFuZGxlT3JpZ2luYWxSZXNwb25zZSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBhbGVydChlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMocmVzLCBpZCkge1xyXG4gICAgcmVzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSwgaWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhcHBlbmRDYXJkKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBwcmVwZW5kQ2FyZChlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJBYm91dCwgdXNlckF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IHVzZXJOYW1lO1xyXG4gICAgdGhpcy5fdXNlckFib3V0ID0gdXNlckFib3V0O1xyXG4gICAgdGhpcy5fdXNlckF2YXRhciA9IHVzZXJBdmF0YXI7XHJcbiAgICB0aGlzLl9wb3B1cE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9lZGl0X25hbWVcIik7XHJcbiAgICB0aGlzLl9wb3B1cEFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfZWRpdF9hYm91dFwiKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fcG9wdXBOYW1lLnZhbHVlID0gdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9wb3B1cEFib3V0LnZhbHVlID0gdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8ocmVzdWx0KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IHJlc3VsdC5uYW1lO1xyXG4gICAgdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xyXG4gICAgdGhpcy5fdXNlckF2YXRhci5zcmMgPSByZXN1bHQuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGNvbnN0IHBvcHVwT3BlbmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKHBvcHVwT3BlbmVkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jbG9zZVBvcHVwQnlPdmVybGF5Q2xpY2soZXZ0KSB7XHJcbiAgICBjb25zdCBwb3B1cE9wZW5lZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgIHRoaXMuY2xvc2UocG9wdXBPcGVuZWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICB0aGlzLl9jbG9zZVBvcHVwQnlPdmVybGF5Q2xpY2suYmluZCh0aGlzKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBvcGVuKCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5vcGVuSW1hZ2VQb3B1cCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc2F2ZVwiKTtcclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cERlbGV0ZUNvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBvblN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX29uU3VibWl0ID0gb25TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmQpIHtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdCgpIHtcclxuICAgIHRoaXMuX29uU3VibWl0KHRoaXMuX2NhcmQpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZVwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3NhdmVfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbiAgZm9ybUVkaXRTZWxlY3RvcjogXCIucG9wdXBfX2NvbnRhaW5lcl9lZGl0XCIsXHJcbiAgZm9ybUFkZFNlbGVjdG9yOiBcIi5wb3B1cF9fY29udGFpbmVyX2FkZFwiLFxyXG4gIGZvcm1FZGl0QXZhdGFyU2VsZWN0b3I6IFwiLnBvcHVwX19jb250YWluZXJfZWRpdEF2YXRhclwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1TZWxlY3RvciwgY29uZmlnKSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBmb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBoaWRlRm9ybUVycm9ycygpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9nZXRFcnJvck1lc2FnZShpbnB1dEVsZW1lbnQpIHtcclxuICAgIHJldHVybiBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgaXNJbnB1dE5vdFZhbGlkID0gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIGlmIChpc0lucHV0Tm90VmFsaWQpIHtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZ2V0RXJyb3JNZXNhZ2UoaW5wdXRFbGVtZW50KTtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHBvcHVwRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2VfZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Fib3V0Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2VfYWRkJyk7XHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cy10ZW1wbGF0ZScpLmNvbnRlbnQ7XHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHMtdGVtcGxhdGUnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBab29tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3pvb20nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwWm9vbUNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZV96b29tJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZV9hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZV9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkSW5wdXRUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfYWRkLXRpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkSW5wdXRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9hZGQtbGluaycpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXJFZGl0T3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0QXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cERlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kZWxldGUnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlQ2FyZE9wZW5CdXR0b24gPSB0ZW1wbGF0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19kZWxldGUtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmVfZWRpdEF2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBEZWxldGVDb25maXJtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlX2RlbGV0ZScpOyIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cERlbGV0ZUNvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDb25maXJtLmpzXCI7XHJcbmltcG9ydCB7IGNvbmZpZywgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHsgb3BlbkltYWdlUG9wdXAsIGNyZWF0ZUNhcmRzLCBhZGRDYXJkIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgcHJvZmlsZUF2YXRhcixcclxuICBwb3B1cEVkaXRBdmF0YXJCdXR0b24sXHJcbiAgcG9wdXBEZWxldGUsXHJcbiAgcG9wdXBFZGl0QXZhdGFyLFxyXG4gIHBvcHVwQXZhdGFyRWRpdE9wZW5CdXR0b24sXHJcbiAgY2FyZExpc3RTZWN0aW9uLFxyXG4gIHRlbXBsYXRlLFxyXG4gIHBvcHVwRWRpdCxcclxuICBwb3B1cEFkZE9wZW5CdXR0b24sXHJcbiAgcG9wdXBBZGQsXHJcbiAgcG9wdXBab29tLFxyXG4gIHBvcHVwQWRkQnV0dG9uLFxyXG4gIHBvcHVwRWRpdE9wZW5CdXR0b24sXHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgcHJvZmlsZUFib3V0LFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGNhcmREYXRhLCBzZWxmSWQpID0+IHtcclxuICAgICAgY3JlYXRlQ2FyZHMoY2FyZERhdGEsIHNlbGZJZCwgdGVtcGxhdGUsIG9wZW5JbWFnZVBvcHVwKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjYXJkTGlzdFNlY3Rpb25cclxuKTtcclxuXHJcbi8vINGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAgQXBpXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMTdcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImY4YTllNTI3LTZjYTQtNGUxZC1iM2ViLWJmMzg4ZTg4Nzg5NlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIHBvcHVwINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBhZGRQb3B1cEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogcG9wdXBBZGQsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGNhcmREYXRhLCBzZWxmSWQpID0+IHtcclxuICAgIGFkZFBvcHVwRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5wb3N0TmV3Q2FyZChjYXJkRGF0YSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGFkZENhcmQocmVzLCBzZWxmSWQsIHRlbXBsYXRlLCBvcGVuSW1hZ2VQb3B1cCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBhZGRQb3B1cEZvcm0ucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgYWRkUG9wdXBGb3JtLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5hZGRQb3B1cEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAgcG9wdXAg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGVkaXRQb3B1cEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogcG9wdXBFZGl0LFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICh1c2VyRGF0YSkgPT4ge1xyXG4gICAgZWRpdFBvcHVwRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5wYXRjaFVzZXJEYXRhKHVzZXJEYXRhKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdXNlci5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgZWRpdFBvcHVwRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBlZGl0UG9wdXBGb3JtLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5lZGl0UG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBwb3B1cEVkaXRBdmF0YXIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHVzZXJBdmF0YXIpID0+IHtcclxuICAgIGVkaXRBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5wYXRjaFVzZXJBdmF0YXIodXNlckF2YXRhcilcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHVzZXIuc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIGVkaXRBdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBlZGl0QXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcbmVkaXRBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0Y3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCDRg9Cy0LXQu9C40YfQtdC90LjRjyDQutCw0YDRgtC40L3QutC4XHJcbmV4cG9ydCBjb25zdCB6b29tSW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFpvb20pO1xyXG56b29tSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0Y3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCDQtNCw0L3QvdGL0YUgdXNlcmDQsFxyXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogcHJvZmlsZU5hbWUsXHJcbiAgdXNlckFib3V0OiBwcm9maWxlQWJvdXQsXHJcbiAgdXNlckF2YXRhcjogcHJvZmlsZUF2YXRhcixcclxufSk7XHJcblxyXG4vLyDQstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLmZvcm1FZGl0U2VsZWN0b3IsIGNvbmZpZyk7XHJcbmZvcm1FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vINCy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgZm9ybUFkZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZy5mb3JtQWRkU2VsZWN0b3IsIGNvbmZpZyk7XHJcbmZvcm1BZGRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8g0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBjb25maWcuZm9ybUVkaXRBdmF0YXJTZWxlY3RvcixcclxuICBjb25maWdcclxuKTtcclxucG9wdXBFZGl0QXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vINGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAg0L/QvtC/0LDQv9CwINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwRGVsZXRlQ29uZmlybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogcG9wdXBEZWxldGUsXHJcbiAgb25TdWJtaXQ6IChjYXJkKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IGNhcmQuZ2V0Q2FyZElkKCk7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkLmRlbGV0ZUhhbmRsZXIoKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxuZGVsZXRlQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckRhdGEoKV0pLnRoZW4oXHJcbiAgKFtyZXMsIHVzZXJEYXRhXSkgPT4ge1xyXG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKHJlcywgdXNlckRhdGEuX2lkKTtcclxuICAgIHVzZXIuc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gIH1cclxuKTtcclxuXHJcbi8vINGB0LvRg9GI0LDRgtC10LvQuFxyXG5wb3B1cEVkaXRPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdXNlci5nZXRVc2VySW5mbygpO1xyXG4gIGVkaXRQb3B1cEZvcm0ub3Blbihwb3B1cEVkaXQpO1xyXG4gIGZvcm1FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICBmb3JtRWRpdFZhbGlkYXRvci5oaWRlRm9ybUVycm9ycygpO1xyXG59KTtcclxucG9wdXBBZGRPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBBZGRCdXR0b24uY2xhc3NMaXN0LmFkZChcInBvcHVwX19zYXZlX2Rpc2FibGVkXCIpO1xyXG4gIHBvcHVwQWRkQnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcbiAgYWRkUG9wdXBGb3JtLm9wZW4ocG9wdXBBZGQpO1xyXG4gIGZvcm1BZGRWYWxpZGF0b3IuaGlkZUZvcm1FcnJvcnMoKTtcclxufSk7XHJcbnBvcHVwQXZhdGFyRWRpdE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEVkaXRBdmF0YXJCdXR0b24uY2xhc3NMaXN0LmFkZChcInBvcHVwX19zYXZlX2Rpc2FibGVkXCIpO1xyXG4gIHBvcHVwRWRpdEF2YXRhckJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xyXG4gIGVkaXRBdmF0YXJQb3B1cC5vcGVuKHBvcHVwRWRpdEF2YXRhcik7XHJcbiAgcG9wdXBFZGl0QXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICBwb3B1cEVkaXRBdmF0YXJWYWxpZGF0b3IuaGlkZUZvcm1FcnJvcnMoKTtcclxufSk7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg1NTQpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnZXhwb3J0cycgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuIl0sInNvdXJjZVJvb3QiOiIifQ==